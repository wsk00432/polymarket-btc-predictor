# 自我学习过程查看指南

## 概述
本文档介绍如何查看和理解BTC预测系统的自我学习过程。系统会自动记录每一次预测的表现，并根据结果调整策略以提高准确性。

## 查看学习过程的方法

### 1. 实时查看面板 (中文版)
运行以下命令查看实时学习状态：
```bash
cd /root/clawd/projects/polymarket-btc-predictor
./view_learning_process_zh.sh
```

或直接运行：
```bash
python3 learning_viewer_zh.py
```

### 2. 查看关键数据文件
系统将学习过程记录在以下文件中：

- **`prediction_outcomes.json`**: 记录每次预测及其实际结果
- **`performance_log.json`**: 详细的学习和分析日志
- **`strategy_config.json`**: 当前的策略配置和权重

### 3. API端点监控
使用以下API端点获取学习相关信息：
- `GET /performance` - 获取性能指标
- `GET /pending_evaluations` - 获取等待评估的预测
- `POST /record_outcome` - 记录实际结果

## 学习过程详解

### 预测生命周期
1. **预测生成**: 系统基于技术指标和情绪分析生成预测
2. **结果记录**: 15分钟后记录实际市场结果
3. **准确性评估**: 比较预测与实际结果
4. **策略调整**: 根据评估结果调整指标权重
5. **持续优化**: 重复此过程以持续改进

### 性能指标说明
- **总体准确率**: 所有已评估预测的正确比例
- **近期准确率**: 最近20次预测的准确率
- **指标权重**: 各技术指标在预测中的相对重要性
- **情绪权重**: 社交媒体和新闻情绪在预测中的比重
- **置信度阈值**: 发布预测所需的最小置信度

### 策略调整机制
系统会根据以下情况自动调整策略：

1. **准确率下降时**: 如果近期准确率比总体准确率低5%，调整指标权重
2. **连续错误时**: 连续5次预测错误后触发策略调整
3. **连续正确时**: 连续10次预测正确后增加置信度

## 数据解读

### 预测结果分类
- **正确预测**: 预测方向与实际方向一致
- **错失机会**: 预测HOLD但实际有明显变动
- **错误信号**: 预测UP/DOWN但实际保持平稳
- **方向反转**: 预测UP但实际DOWN，或反之

### 权重调整逻辑
- 表现良好的指标会获得更高权重
- 表现不佳的指标会降低权重
- 情绪分析权重根据其预测价值调整

## 如何促进学习过程

要让系统更好地学习，可以：

1. **记录实际结果**: 在预测窗口结束后记录实际市场走向
2. **监控性能**: 定期查看准确率变化
3. **调整参数**: 必要时手动调整学习率等参数

## 示例API调用

记录实际结果：
```bash
curl -X POST http://localhost:5000/record_outcome \
-H 'Content-Type: application/json' \
-d '{
  "prediction_timestamp": "2026-02-03T07:24:55.205724", 
  "actual_direction": "UP", 
  "actual_price_change": 0.025, 
  "current_price": 78750.0
}'
```

获取性能指标：
```bash
curl -s http://localhost:5000/performance | python3 -m json.tool
```

## 仪表板解读

运行`learning_viewer_zh.py`后，您将看到：

1. **学习摘要**: 总体预测数量、准确率等关键指标
2. **当前策略**: 现在使用的指标权重配置
3. **学习历史**: 最近预测的表现记录
4. **学习见解**: 系统当前表现的分析

这套系统将持续学习和改进，随着时间推移，预测准确率应该会逐步提升。