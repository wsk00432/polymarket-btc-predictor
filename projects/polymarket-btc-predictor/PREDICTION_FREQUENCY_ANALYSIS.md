# 预测频率与复盘机制详解

## 当前预测频率
- **实时预测**: 每分钟生成一次预测
- **连续预测服务**: 每分钟运行一次预测周期
- **API请求**: 每次API调用返回最新预测

## 预测复盘机制

### 复盘触发条件
- **不是每次预测都立即复盘**
- **只有当预测"到期"且已知实际结果时才进行复盘**
- **复盘时机**: 预测时间窗口（15分钟）结束后

### 复盘流程
1. **预测生成**: 系统生成预测，设定15分钟观察窗口
2. **等待结果**: 在15分钟内收集实际市场价格变动数据
3. **结果记录**: 记录实际价格走向
4. **准确性评估**: 比较预测与实际结果
5. **策略调整**: 根据结果调整指标权重

## 复盘频率
- **理论最大复盘频率**: 每15分钟一次（基于15分钟预测窗口）
- **实际复盘频率**: 取决于是否有人记录实际结果
- **自动复盘**: 目前需要手动或通过API记录实际结果后才触发

## 自我学习机制

### 学习触发条件
- **性能下降**: 当近期准确率比整体准确率下降超过5%时
- **连续错误**: 连续5次预测错误后触发调整
- **连续正确**: 连续10次预测正确后调整策略

### 学习频率
- **实时监控**: 系统持续监控预测表现
- **动态调整**: 根据触发条件自动调整策略
- **权重更新**: 当满足条件时更新技术指标权重

## 实际操作示例
要让系统学习，需要：
1. 等待15分钟预测窗口结束
2. 记录实际结果：`curl -X POST http://localhost:5000/record_outcome ...`
3. 系统自动分析并调整策略

## 当前状态
- **预测服务**: 正在持续生成预测（每分钟）
- **复盘服务**: 等待实际结果输入以进行复盘
- **学习服务**: 准备就绪，等待复盘数据以触发学习

## 优化建议
为了实现完全自动化学习，我们可以设置定时任务在预测窗口结束后自动获取实际价格并记录结果。